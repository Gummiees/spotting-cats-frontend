<div class="relative flex flex-col gap-y-2 bg-white px-4 py-3 border border-gray-200 rounded-lg shadow-xs cursor-pointer transition-all duration-500 ease-in-out hover:shadow-md hover:rotate-1" 
     [class.highlighted]="isHighlighted()"
     [routerLink]="['/cat', cat().id]">
  <div class="flex flex-col gap-y-2">
    <div class="flex justify-between items-center">
      <div class="flex items-center gap-x-2">
        <h3 class="text-lg font-medium">{{ cat().name }}</h3>
      @if(cat().isUserOwner === true) {
        <span class="material-symbols-outlined text-violet-500 !text-[18px]">verified</span>
      }
      </div>
      <div class="flex items-center gap-x-1">
        <span>{{ cat().totalLikes }}</span>
        <span class="material-symbols-outlined cursor-pointer z-1" [ngClass]="{'text-red-500': cat().isLiked}" [style.fontVariationSettings]="cat().isLiked ? '\'FILL\' 1' : '\'FILL\' 0'" (click)="onLikeClick($event)">favorite</span>
      </div>
      </div>
    <app-cat-address [cat]="cat()" />
    <app-cat-badges [cat]="cat()" />
    <div class="flex-1 min-h-0">
      @if(carouselItems().length > 0) {
        <app-carousel [items]="carouselItems()" />
      } @else {
        <div class="flex items-center justify-center h-full">
          <svg
            class="text-gray-500 w-[100px] h-[100px]"
            xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" fill="currentColor"><path d="M96 160C149 160 192 203 192 256L192 341.8C221.7 297.1 269.8 265.6 325.4 257.8C351 317.8 410.6 359.9 480 359.9C490.9 359.9 501.6 358.8 512 356.8L512 544C512 561.7 497.7 576 480 576C462.3 576 448 561.7 448 544L448 403.2L312 512L368 512C385.7 512 400 526.3 400 544C400 561.7 385.7 576 368 576L224 576C171 576 128 533 128 480L128 256C128 239.4 115.4 225.8 99.3 224.2L92.7 223.9C76.6 222.2 64 208.6 64 192C64 174.3 78.3 160 96 160zM565.8 67.2C576.2 58.5 592 65.9 592 79.5L592 192C592 253.9 541.9 304 480 304C418.1 304 368 253.9 368 192L368 79.5C368 65.9 383.8 58.5 394.2 67.2L448 112L512 112L565.8 67.2zM432 172C421 172 412 181 412 192C412 203 421 212 432 212C443 212 452 203 452 192C452 181 443 172 432 172zM528 172C517 172 508 181 508 192C508 203 517 212 528 212C539 212 548 203 548 192C548 181 539 172 528 172z"/></svg>
        </div>
      }
    </div>
    <div class="flex items-center justify-between gap-x-2">
      @if(cat()!.username) {
        <a class="text-xs text-violet-700 hover:underline" (click)="onUserClick($event)">{{ cat()!.username }}</a>
      } @else {
        <span class="text-xs text-gray-500">Deleted user</span>
      }
      <span class="text-xs text-gray-500">{{ cat().createdAt | minutesAgo }}</span>
    </div>
  </div>
</div>